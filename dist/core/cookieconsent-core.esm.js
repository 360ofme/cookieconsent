/*!
* CookieConsent 3.0.0-rc.12
* https://github.com/orestbida/cookieconsent
* Author Orest Bida
* Released under the MIT License
*/
class e{constructor(){this.t={mode:'opt-in',revision:0,autoClearCookies:!0,manageScriptTags:!0,hideFromBots:!0,cookie:{name:'cc_cookie',expiresAfterDays:182,domain:'',path:'/',sameSite:'Lax'}},this.o={i:{},l:'',_:{},p:{},u:{},m:[],g:!1,C:null,v:null,S:null,h:'',D:!0,T:!1,N:!0,k:[],I:!1,j:'',F:!1,O:[],M:[],A:[],R:[],P:!1,B:!1,J:!1,L:[],U:[],G:[],H:{},q:{},K:{},V:{},W:{},X:[],Y:[]},this.Z={$:{},ee:{}},this.te={},this.oe={ne:'cc:onFirstConsent',se:'cc:onConsent',ae:'cc:onChange'}}}const t=new e,o=(e,t)=>e.indexOf(t),n=(e,t)=>-1!==o(e,t),s=e=>Array.isArray(e),a=e=>'string'==typeof e,c=e=>!!e&&'object'==typeof e&&!s(e),r=e=>'function'==typeof e,i=e=>Object.keys(e),l=e=>Array.from(new Set(e)),f=e=>e.dispatchEvent(new Event('change')),d=e=>{const t=document.createElement(e);return'button'===e&&(t.type=e),t},_=(e,t,o)=>e.setAttribute(t,o),p=(e,t,o)=>{e.removeAttribute(o?'data-'+t:t)},u=(e,t,o)=>e.getAttribute(o?'data-'+t:t),m=e=>{if('object'!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());let t=Array.isArray(e)?[]:{};for(let o in e){let n=e[o];t[o]=m(n)}return t},g=()=>{const e={},{O:o,H:n,q:s}=t.o;for(const t of o)e[t]=v(s[t],i(n[t]));return e},C=()=>{const e=t.t.cookie.expiresAfterDays;return r(e)?e(t.o.j):e},v=(e,t)=>{const o=e||[],s=t||[];return o.filter((e=>!n(s,e))).concat(s.filter((e=>!n(o,e))))},y=e=>{t.o.M=l(e),t.o.j=(()=>{let e='custom';const{M:o,O:n,A:s}=t.o,a=o.length;return a===n.length?e='all':a===s.length&&(e='necessary'),e})()},S=(e,o,n)=>{const{ae:s,se:a,ne:c,ce:i,re:l,ie:f}=t.te,d=t.oe,_={cookie:t.o.u};e===d.ne?r(c)&&c(m(_)):e===d.se?r(a)&&a(m(_)):(_.changedCategories=t.o.k,_.changedServices=t.o.V,r(s)&&s(m(_))),((e,t)=>{dispatchEvent(new CustomEvent(e,{detail:t}))})(e,m(_))},h=e=>{const{q:o,V:s,O:a,H:c,X:i,Y:l,u:f,k:m}=t.o;for(const e of a){const t=s[e]||o[e]||[];for(const s of t){const t=c[e][s];if(!t)continue;const{onAccept:a,onReject:i}=t;!t.le&&n(o[e],s)&&r(a)?(t.le=!0,a()):t.le&&!n(o[e],s)&&r(i)&&(t.le=!1,i())}}if(!t.t.manageScriptTags)return;const g=i,C=e||f.categories||[],v=(e,t)=>{if(t<e.length){const a=e[t],c=l[t],r=c.fe,i=c.de,f=n(C,r),g=!!i&&n(o[r],i);if(!c._e){let o=!i&&!c.pe&&f,l=i&&!c.pe&&g,C=!i&&c.pe&&!f&&n(m,r),y=i&&c.pe&&!g&&n(s[r]||[],i);if(o||C||l||y){c._e=!0;const o=u(a,'type',!0);p(a,'type',!!o),p(a,'data-category');let n=u(a,'src',!0);n&&p(a,'src',!0);const s=d('script');s.textContent=a.innerHTML;for(const{nodeName:e}of a.attributes)_(s,e,a[e]||u(a,e));if(o&&(s.type=o),n?s.src=n:n=a.src,n&&(s.onload=s.onerror=()=>{v(e,++t)}),a.replaceWith(s),n)return}}v(e,++t)}};v(g,0)},b=e=>{const{hostname:o,protocol:s}=location,{name:a,path:c,domain:r,sameSite:i}=t.t.cookie,l=encodeURIComponent(JSON.stringify(t.o.u)),f=e?(()=>{const e=t.o.S,o=e?new Date-e:0;return 864e5*C()-o})():864e5*C(),d=new Date;d.setTime(d.getTime()+f);let _=a+'='+l+(0!==f?'; expires='+d.toUTCString():'')+'; Path='+c+'; SameSite='+i;n(o,'.')&&(_+='; Domain='+r),'https:'===s&&(_+='; Secure'),document.cookie=_,t.o.u},w=(e,o,n)=>{const s=n||t.t.cookie.domain,a=o||t.t.cookie.path,c='www.'===s.slice(0,4),r=c&&s.substring(4),i=(e,t)=>{document.cookie=e+'=; path='+a+(t?'; domain=.'+t:'')+'; expires=Thu, 01 Jan 1970 00:00:01 GMT;'};for(const t of e)i(t),i(t,s),c&&i(t,r)},D=e=>(e=>{let t;try{t=JSON.parse(decodeURIComponent(e))}catch(e){t={}}return t})(T(e||t.t.cookie.name,!0)),T=(e,t)=>{const o=document.cookie.match('(^|;)\\s*'+e+'\\s*=\\s*([^;]+)');return o?t?o.pop():e:''},E=e=>{const t=document.cookie.split(/;\s*/),o=[];for(const n of t){let t=n.split('=')[0];if(e)try{e.test(t)&&o.push(t)}catch(e){}else o.push(t)}return o},N=(e,c=[])=>{((e,o)=>{const{O:c,M:r,A:l,ue:f,K:d,H:_}=t.o;let p=[];if(e){s(e)?p.push(...e):a(e)&&(p='all'===e?c:[e]);for(const e of c)d[e]=n(p,e)?i(_[e]):[]}else p=f?(()=>{const e=t.Z.$;if(!e)return[];let o=[];for(let t in e)e[t].checked&&o.push(t);return o})():r;p=p.filter((e=>!n(c,e)||!n(o,e))),p.push(...l),y(p)})(e,c),(e=>{const o=t.o,{K:s,A:a,q:c,H:r,O:f}=o,d=f;o.W=m(c);for(const e of d){const t=r[e],o=i(t),f=s[e]?.length>0,d=n(a,e);if(0!==o.length){if(c[e]=[],d)c[e].push(...o);else if(f){const t=s[e];c[e].push(...t)}else c[e]=[];c[e]=l(c[e])}}})(),(()=>{const e=t.o;'opt-out'===t.t.mode&&e.D?e.k=v(e.R,e.M):e.k=v(e.M,e.u.categories);let s=e.k.length>0,a=!1;for(const t of e.O)e.V[t]=v(e.q[t],e.W[t]),e.V[t].length>0&&(a=!0);const c=t.Z.$;for(let t in c)c[t].checked=n(e.M,t);for(const o of e.O){const s=t.Z.ee[o],a=e.q[o];for(const e in s)s[e].checked=n(a,e)}e.v||(e.v=new Date),e.h||(e.h=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))),e.u={categories:m(e.M),revision:t.t.revision,data:e.C,consentTimestamp:e.v.toISOString(),consentId:e.h,services:m(e.q)};let r=!1;(e.D||s||a)&&(e.D&&(e.D=!1,r=!0),e.S?e.S=new Date:e.S=e.v,e.u.lastConsentTimestamp=e.S.toISOString(),b(),t.t.autoClearCookies&&(r||!e.D&&s)&&(e=>{const s=t.o,a=E();s.I=!1;let c=e?s.O:s.k;c=c.filter((e=>{let t=s.F[e];return!!t&&!t.readOnly&&!!t.autoClear}));for(const t of c){const c=s.F[t].autoClear,r=c?.cookies||[],i=n(s.k,t),l=!n(s.M,t),f=i&&l;if(e&&l||!e&&f){!0===c.reloadPage&&f&&(s.I=!0);for(const e of r){let t=[];const n=e.name,s=e.domain,c=e.path;if(n instanceof RegExp)for(let e of a)n.test(e)&&t.push(e);else{let e=o(a,n);e>-1&&t.push(a[e])}t.length>0&&w(t,c,s)}}}})(r),h()),r&&(S(t.oe.ne),S(t.oe.se),'opt-in'===t.t.mode)||((s||a)&&S(t.oe.ae),e.I&&location.reload())})()},k=e=>{const o=t.o.D?[]:t.o.M;return n(o,e)},x=(e,o)=>{const{O:c,H:r}=t.o;if(!(e&&o&&a(o)&&n(c,o)&&0!==i(r[o]).length))return!1;((e,o)=>{const c=t.o,{H:r,K:d,ue:_}=c,p=t.Z.ee[o]||{},u=t.Z.$[o]||{},m=i(r[o]);if(d[o]=[],a(e)){if('all'===e){if(d[o].push(...m),_)for(let e in p)p[e].checked=!0,f(p[e])}else if(n(m,e)&&d[o].push(e),_)for(let t in p)p[t].checked=e===t,f(p[t])}else if(s(e))for(let t of m){const s=n(e,t);s&&d[o].push(t),_&&(p[t].checked=s,f(p[t]))}const g=0===d[o].length;c.M=g?c.M.filter((e=>e!==o)):l([...c.M,o]),_&&(u.checked=!g,f(u))})(e,o),N()},I=(e,o)=>{const s=t.o.D?[]:t.o.q[o];return n(s,e)},j=e=>''!==T(e,!0),F=(e,t,o)=>{let n=[];const c=e=>{if(a(e)){let t=T(e);''!==t&&n.push(t)}else n.push(...E(e))};if(s(e))for(let t of e)c(t);else c(e);w(n,t,o)},O=()=>{const{j:e,q:o}=t.o,{accepted:s,rejected:a}=(()=>{const{D:e,M:o,O:s}=t.o;return{accepted:o,rejected:e?[]:s.filter((e=>!n(o,e)))}})();return m({acceptType:e,acceptedCategories:s,rejectedCategories:a,acceptedServices:o,rejectedServices:g()})},M=(e,t)=>{let o=document.querySelector('script[src="'+e+'"]');return new Promise((n=>{if(o)return n(!0);if(o=d('script'),c(t))for(const e in t)_(o,e,t[e]);var s,a;o.onload=()=>n(!0),o.onerror=()=>{o.remove(),n(!1)},o.src=e,s=document.head,a=o,s.appendChild(a)}))},A=e=>{let o,n=e.value,s=e.mode,a=!1;const c=t.o;if('update'===s){c.C=o=R('data');const e=typeof o==typeof n;if(e&&'object'==typeof o){!o&&(o={});for(let e in n)o[e]!==n[e]&&(o[e]=n[e],a=!0)}else!e&&o||o===n||(o=n,a=!0)}else o=n,a=!0;return a&&(c.C=o,c.u.data=o,b(!0)),a},R=(e,t)=>{const o=D(t);return e?o[e]:o},P=e=>{const o=t.t,n=t.o.i;return e?o[e]||n[e]:{...o,...n,cookie:{...o.cookie}}},B=()=>!t.o.D,J=async e=>{const{o:o,t:r,oe:l}=t,f=window;if(!f._ccRun){if(f._ccRun=!0,(e=>{const{Z:o,t:s,o:a}=t,r=s,l=a,{cookie:f}=r,d=t.te,_=e.cookie,p=e.categories,m=i(p)||[],g=navigator,C=document;o.me=C,o.ge=C.documentElement,f.domain=location.hostname,l.i=e,l.F=p,l.O=m,d.ne=e.onFirstConsent,d.se=e.onConsent,d.ae=e.onChange;const{mode:v,autoClearCookies:y,revision:S,manageScriptTags:h,hideFromBots:b}=e;'opt-out'===v&&(r.mode=v),'boolean'==typeof y&&(r.autoClearCookies=y),'boolean'==typeof h&&(r.manageScriptTags=h),'number'==typeof S&&S>=0&&(r.revision=S,l.T=!0),!1===b&&(r.hideFromBots=!1),!0===r.hideFromBots&&g&&(l.P=g.userAgent&&/bot|crawl|spider|slurp|teoma/i.test(g.userAgent)||g.webdriver),c(_)&&(r.cookie={...f,..._}),r.autoClearCookies,l.T,r.manageScriptTags,(e=>{const{F:o,H:n,q:s,K:a,A:r}=t.o;for(let l of e){const e=o[l],f=e.services||{},d=c(f)&&i(f)||[];n[l]={},s[l]=[],a[l]=[],e.readOnly&&(r.push(l),s[l]=d),t.Z.ee[l]={};for(let e of d){const t=f[e];t.le=!1,n[l][e]=t}}})(m),(()=>{if(!t.t.manageScriptTags)return;const e=t.o;e.X=t.Z.me.querySelectorAll('script[data-category]'),e.Y=[];for(const t of e.X){let o=u(t,'data-category'),s=t.dataset.service||'',a=!1;if(o&&'!'===o.charAt(0)&&(o=o.slice(1),a=!0),'!'===s.charAt(0)&&(s=s.slice(1),a=!0),n(e.O,o)&&(e.Y.push({_e:!1,pe:a,fe:o,de:s}),s)){const t=e.H[o];t[s]||(t[s]={le:!1})}}})()})(e),o.P)return;if((()=>{const e=t.o,o=t.t,n=D(),{categories:c,services:r,consentId:i,consentTimestamp:l,lastConsentTimestamp:f,data:d,revision:_}=n,p=s(c);e.u=n,e.h=i;const u=!!i&&a(i);e.v=l,e.v&&(e.v=new Date(l)),e.S=f,e.S&&(e.S=new Date(f)),e.C=void 0!==d?d:null,e.T&&u&&_!==o.revision&&(e.N=!1),e.D=!(u&&e.N&&e.v&&e.S&&p),e.D,e.D?'opt-out'===o.mode&&((()=>{const e=t.o;for(const t of e.O){const o=e.F[t];if(o.enabled||o.readOnly){e.R.push(t);const o=e.H[t]||{};for(let n in o)e.q[t].push(n)}}})(),e.M=[...e.R]):(e.q={...e.q,...r},y([...e.A,...c])),e.K={...e.q}})(),B())return h(),S(l.se);'opt-out'===r.mode&&h(o.R)}},L=o=>{const{name:n,path:s,domain:a}=t.t.cookie;o&&F(n,s,a);for(const{Ce:e,ve:o,ye:n}of t.o.m)e.removeEventListener(o,n);const c=new e;for(const e in t)t[e]=c[e];window._ccRun=!1};export{N as acceptCategory,x as acceptService,k as acceptedCategory,I as acceptedService,F as eraseCookies,P as getConfig,R as getCookie,O as getUserPreferences,M as loadScript,L as reset,J as run,A as setCookieData,B as validConsent,j as validCookie};
