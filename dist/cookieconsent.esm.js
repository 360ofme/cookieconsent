/*!
* CookieConsent 3.0.0-rc.9
* https://github.com/orestbida/cookieconsent
* Author Orest Bida
* Released under the MIT License
*/
const e='button',t=e=>'function'==typeof e,o=e=>{if('object'!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());let t=Array.isArray(e)?[]:{};for(let n in e){let a=e[n];t[n]=o(a)}return t},n=(e,t)=>window.dispatchEvent(new CustomEvent(e,{detail:t})),a=(e,a,c)=>{const i=s.t,r=s.o,l={cookie:s.l.i};if(a){const o={modalName:a};return e===r._?t(i._)&&i._(o):e===r.u?t(i.u)&&i.u(o):(o.modal=c,t(i.p)&&i.p(o)),n(e,o)}e===r.m?t(i.m)&&i.m(o(l)):e===r.g?t(i.g)&&i.g(o(l)):(l.changedCategories=s.l.v,l.changedServices=s.l.h,t(i.C)&&i.C(o(l))),n(e,o(l))};class c{constructor(){this.S={mode:'opt-in',revision:0,autoShow:!0,autoClearCookies:!0,manageScriptTags:!0,hideFromBots:!0,lazyHtmlGeneration:!0,cookie:{name:'cc_cookie',expiresAfterDays:182,domain:'',path:'/',sameSite:'Lax'}},this.l={k:null,T:'',M:{},A:null,i:null,D:[],N:!1,H:null,V:null,I:null,P:'',j:!0,F:!1,O:!1,B:!1,R:!1,G:!1,J:!1,L:!1,U:!1,$:[],q:!1,K:!0,v:[],W:!1,X:'',Y:!1,Z:[],ee:[],te:[],oe:[],ne:!1,ae:!1,ce:!1,se:[],ie:[],re:[],le:{},de:{},fe:{},h:{},_e:{},ue:[],pe:[]},this.me={ge:{},ve:{}},this.t={},this.o={m:'cc:onFirstConsent',g:'cc:onConsent',C:'cc:onChange',_:'cc:onModalShow',u:'cc:onModalHide',p:'cc:onModalReady'}}}const s=new c,i=(e,t)=>e.indexOf(t),r=(e,t)=>-1!==i(e,t),l=e=>Array.isArray(e),d=e=>'string'==typeof e,f=e=>!!e&&'object'==typeof e&&!l(e),_=e=>Object.keys(e),u=e=>Array.from(new Set(e)),p=()=>document.activeElement,m=e=>e.preventDefault(),g=(e,t)=>e.querySelectorAll(t),v=()=>{const e={},{Z:t,le:o,de:n}=s.l;for(const a of t)e[a]=E(n[a],_(o[a]));return e},b=e=>e.dispatchEvent(new Event('change')),h=t=>{const o=document.createElement(t);return t===e&&(o.type=t),o},y=(e,t,o)=>{e.setAttribute(t,o)},w=(e,t,o)=>{e.removeAttribute(o?'data-'+t:t)},C=(e,t,o)=>e.getAttribute(o?'data-'+t:t),S=(e,t)=>e.appendChild(t),k=(e,t,o,n)=>{e.addEventListener(t,o),n&&s.l.D.push({be:e,he:t,ye:o})},T=(e,t)=>e.classList.add(t),x=(e,t)=>T(e,'cm__'+t),M=(e,t)=>T(e,'pm__'+t),A=(e,t)=>e.classList.remove(t),D=()=>{const e=s.S.cookie.expiresAfterDays;return t(e)?e(s.l.X):e},E=(e,t)=>{const o=e||[],n=t||[];return o.filter((e=>!r(n,e))).concat(n.filter((e=>!r(o,e))))},N=e=>{s.l.ee=u(e),s.l.X=(()=>{let e='custom';const{ee:t,Z:o,te:n}=s.l,a=t.length;return a===o.length?e='all':a===n.length&&(e='necessary'),e})()},H=(e,t,o,n)=>{const{show:a,showPreferences:c,hide:i,hidePreferences:r,acceptCategory:l}=t,d=e||document,f=e=>g(d,`[data-cc="${e}"]`),_=(e,t)=>{m(e),l(t),r(),i()},u=f('show-preferencesModal'),p=f('show-consentModal'),v=f('accept-all'),b=f('accept-necessary'),h=f('accept-custom'),w=s.S.lazyHtmlGeneration;for(const e of u)y(e,'aria-haspopup','dialog'),k(e,'click',(e=>{m(e),c()})),w&&k(e,'mouseenter',(e=>{m(e),s.l.R||o(t,n)}),!0);for(let e of p)y(e,'aria-haspopup','dialog'),k(e,'click',(e=>{m(e),a(!0)}),!0);for(let e of v)k(e,'click',(e=>{_(e,'all')}),!0);for(let e of h)k(e,'click',(e=>{_(e)}),!0);for(let e of b)k(e,'click',(e=>{_(e,[])}),!0)},V=()=>{const{j:e,ee:t,Z:o}=s.l;return{accepted:t,rejected:e?[]:o.filter((e=>!r(t,e)))}};let I;const P=e=>{clearTimeout(I),e?T(s.me.we,'disable--interaction'):I=setTimeout((()=>{A(s.me.we,'disable--interaction')}),500)},j=()=>{const t=s.l,o=s.me,n=['[href]',e,'input','details','[tabindex="0"]'].join(':not([tabindex="-1"]), '),a=(e,t)=>{const o=g(e,n);t[0]=o[0],t[1]=o[o.length-1]};t.F&&a(o.Ce,t.se),t.R&&a(o.Se,t.ie),t.L=!1,t.J=!1},F=e=>{const o=s.l,n=o.de;for(const e of o.Z){const n=o.h[e]||o.de[e]||[];for(const a of n){const n=o.le[e][a],{onAccept:c,onReject:s}=n;n&&(!n.ke&&r(o.de[e],a)&&t(c)?(n.ke=!0,c()):n.ke&&!r(o.de[e],a)&&t(s)&&(n.ke=!1,s()))}}if(!s.S.manageScriptTags)return;const a=o.ue;let c=e||o.i.categories||[];const i=(e,t)=>{if(t<e.length){const a=e[t],s=o.pe[t],l=s.Te,d=s.xe,f=r(c,l),_=!!d&&r(n[l],d);if(!s.Me){let n=!d&&!s.Ae&&f,c=d&&!s.Ae&&_,u=!d&&s.Ae&&!f&&r(o.v,l),p=d&&s.Ae&&!_&&r(o.h[l]||[],d);if(n||u||c||p){s.Me=!0;const o=C(a,'type',!0);w(a,'type',!!o),w(a,'data-category');let n=C(a,'src',!0);n&&w(a,'src',!0);const c=h('script');c.textContent=a.innerHTML;for(const{nodeName:e}of a.attributes)y(c,e,a[e]||C(a,e));if(o&&(c.type=o),n?c.src=n:n=a.src,n&&(c.onload=c.onerror=()=>{i(e,++t)}),a.replaceWith(c),n)return}}i(e,++t)}};i(a,0)},O=['middle','top','bottom'],B=['left','center','right'],R={box:{De:['wide','inline'],Ee:O,Ne:B,He:'bottom',Ve:'right'},cloud:{De:['inline'],Ee:O,Ne:B,He:'bottom',Ve:'center'},bar:{De:['inline'],Ee:O.slice(1),Ne:[],He:'bottom',Ve:''}},G={box:{De:[],Ee:[],Ne:[],He:'',Ve:''},bar:{De:['wide'],Ee:[],Ne:['left','right'],He:'',Ve:'left'}},J=e=>{const t=s.l.k.guiOptions,o=t?.consentModal,n=t?.preferencesModal;0===e&&L(s.me.Ce,R,o,'cm--','box','cm'),1===e&&L(s.me.Se,G,n,'pm--','box','pm')},L=(e,t,o,n,a,c)=>{if(!o)return;e.className=c;const{layout:i,position:l,flipButtons:d}=o,f=!1!==o.equalWeightButtons,_=i?.split(' ')||[],u=_[0],p=_[1],m=u in t?u:a,g=t[m],v=r(g.De,p)&&p,b=l?.split(' ')||[],h=b[0],y='pm--'===n?b[0]:b[1],w=r(g.Ee,h)?h:g.He,C=r(g.Ne,y)?y:g.Ve,S=t=>T(e,n+t);S(m),S(v),S(w),S(C),d&&S('flip');const k=c+'__btn--secondary';if('cm'===c){const{Ie:e,Pe:t}=s.me;e&&(f?A(e,k):T(e,k)),t&&(f?A(t,k):T(t,k))}else{const{je:e}=s.me;e&&(f?A(e,k):T(e,k))}},U=(t,o)=>{const n=s.l,c=s.me,{hide:i,hidePreferences:r,acceptCategory:l}=t,u=e=>{l(e),r(),i()},p=n.A&&n.A.preferencesModal;if(!p)return;const m=p.title,g=p.closeIconLabel,v=p.acceptAllBtn,b=p.acceptNecessaryBtn,w=p.savePreferencesBtn,C=p.sections;if(c.Fe)c.Oe=h('div'),M(c.Oe,'body');else{c.Fe=h('div'),T(c.Fe,'pm-wrapper'),c.Se=h('div'),c.Se.style.visibility='hidden',T(c.Se,'pm'),y(c.Se,'role','dialog'),y(c.Se,'aria-hidden',!0),y(c.Se,'aria-modal',!0),y(c.Se,'aria-labelledby','pm__title'),k(c.we,'keydown',(e=>{27===e.keyCode&&r()}),!0),c.Be=h('div'),M(c.Be,'header'),c.Re=h('div'),M(c.Re,'title'),c.Re.id='pm__title',y(c.Re,'role','heading'),y(c.Re,'aria-level','2'),c.Ge=h(e),M(c.Ge,'close-btn'),y(c.Ge,'aria-label',p.closeIconLabel||''),k(c.Ge,'click',r),c.Je=h('div'),M(c.Je,'body'),c.Le=h('div'),M(c.Le,'footer');var x=h('div');T(x,'btns');var D=h('div'),E=h('div');M(D,'btn-group'),M(E,'btn-group'),S(c.Le,D),S(c.Le,E),S(c.Be,c.Re),S(c.Be,c.Ge),S(c.Se,c.Be),S(c.Se,c.Je),S(c.Se,c.Le),S(c.Fe,c.Se)}let N;m&&(c.Re.innerHTML=m,g&&y(c.Ge,'aria-label',g)),C&&C.forEach((t=>{const o=t.title,a=t.description,s=t.linkedCategory,i=s&&n.Y[s],r=t.cookieTable,l=r?.body,u=l?.length>0,m=!!i,g=m&&n.le[s],v=f(g)&&_(g)||[],b=m&&(!!a||!!u||_(g).length>0);var w=h('div');if(M(w,'section'),b||a){var C=h('div');M(C,'section-desc-wrapper')}let x=v.length;if(b&&x>0){const e=h('div');M(e,'section-services');for(const t of v){const o=g[t]?.label||t,n=h('div'),a=h('div'),c=h('div'),r=h('div');M(n,'service'),M(r,'service-title'),M(a,'service-header'),M(c,'service-icon');const l=z(o,t,i,!0,s);r.innerHTML=o,S(a,c),S(a,r),S(n,a),S(n,l),S(e,n)}S(C,e)}if(o){var D=h('div'),E=h(m?e:'div');if(M(D,'section-title-wrapper'),M(E,'section-title'),E.innerHTML=o,S(D,E),m){const e=h('span');M(e,'section-arrow'),S(D,e),w.className+='--toggle';const t=z(o,s,i);let n=p.serviceCounterLabel;if(x>0&&d(n)){let e=h('span');M(e,'badge'),M(e,'service-counter'),y(e,'aria-hidden',!0),y(e,'data-servicecounter',x),n&&(n=n.split('|'),n=n.length>1&&x>1?n[1]:n[0],y(e,'data-counterlabel',n)),e.innerHTML=x+(n?' '+n:''),S(E,e)}if(b){M(w,'section--expandable');var H=s+'-desc';y(E,'aria-expanded',!1),y(E,'aria-controls',H)}S(D,t)}else y(E,'role','heading'),y(E,'aria-level','3');S(w,D)}if(a){var V=h('div');M(V,'section-desc'),V.innerHTML=a,S(C,V)}if(b&&(y(C,'aria-hidden','true'),C.id=H,((e,t,o)=>{k(E,'click',(()=>{t.classList.contains('is-expanded')?(A(t,'is-expanded'),y(o,'aria-expanded','false'),y(e,'aria-hidden','true')):(T(t,'is-expanded'),y(o,'aria-expanded','true'),y(e,'aria-hidden','false'))}))})(C,w,E),u)){const e=h('table'),t=h('thead'),o=h('tbody');M(e,'section-table'),M(t,'table-head'),M(o,'table-body');const n=r.headers,a=_(n),s=c.Ue.createDocumentFragment(),i=h('tr');y(i,'role','row');for(const e of a){const t=n[e],o=h('th');o.id='cc__row-'+t,y(o,'role','columnheader'),y(o,'scope','col'),M(o,'table-th'),o.innerHTML=t,S(s,o)}S(i,s),S(t,i);const d=c.Ue.createDocumentFragment();for(const e of l){const t=h('tr');y(t,'role','row'),M(t,'table-tr');for(const o of a){const a=n[o],c=e[o],s=h('td'),i=h('div');M(s,'table-td'),y(s,'data-column',a),y(s,'headers','cc__row-'+a),i.insertAdjacentHTML('beforeend',c),S(s,i),S(t,s)}S(d,t)}S(o,d),S(e,t),S(e,o),S(C,e)}(b||a)&&S(w,C);const I=c.Oe||c.Je;m?(N||(N=h('div'),M(N,'section-toggles')),N.appendChild(w)):N=null,S(I,N||w)})),(v||b)&&(b&&(c.je||(c.je=h(e),M(c.je,'btn'),y(c.je,'data-role','necessary'),S(D,c.je),k(c.je,'click',(()=>u([])))),c.je.innerHTML=b),v&&(c.ze||(c.ze=h(e),M(c.ze,'btn'),y(c.ze,'data-role','all'),S(D,c.ze),k(c.ze,'click',(()=>u('all')))),c.ze.innerHTML=v)),w&&(c.$e||(c.$e=h(e),M(c.$e,'btn'),M(c.$e,'btn--secondary'),y(c.$e,'data-role','save'),S(E,c.$e),k(c.$e,'click',(()=>u()))),c.$e.innerHTML=w),c.Oe&&(c.Se.replaceChild(c.Oe,c.Je),c.Je=c.Oe),J(1),n.R||(n.R=!0,a(s.o.p,'preferencesModal',c.Se),o(t),setTimeout(j,10),S(c.qe,c.Fe),setTimeout((()=>T(c.Fe,'cc--anim')),100))};function z(e,t,o,n,a){const c=s.l,i=s.me,l=h('label'),d=h('input'),f=h('span'),_=h('span'),u=h('span'),p=h('span');if(d.type='checkbox',T(l,'section__toggle-wrapper'),T(d,'section__toggle'),T(u,'toggle__icon-on'),T(p,'toggle__icon-off'),T(f,'toggle__icon'),T(_,'toggle__label'),y(f,'aria-hidden','true'),n?(T(l,'toggle-service'),y(d,'data-category',a),i.ve[a][t]=d):i.ge[t]=d,n?(e=>{k(d,'change',(()=>{const t=i.ve[e],o=i.ge[e];c.fe[e]=[];for(let o in t){const n=t[o];n.checked&&c.fe[e].push(n.value)}o.checked=c.fe[e].length>0}))})(a):(e=>{k(d,'click',(()=>{const t=i.ve[e];c.fe[e]=[];for(let e in t)t[e].checked=d.checked}))})(t),d.value=t,_.textContent=e.replace(/<.*>.*<\/.*>/gm,''),S(f,p),S(f,u),c.j)(o.enabled||o.readOnly)&&(d.checked=!0);else if(n){const e=c.de[a];d.checked=o.readOnly||r(e,t)}else r(c.ee,t)&&(d.checked=!0);return o.readOnly&&(d.disabled=!0),S(l,d),S(l,f),S(l,_),l}const $=(t,o)=>{const n=s.l,c=s.me,{hide:i,showPreferences:r,acceptCategory:l}=t,d=n.A&&n.A.consentModal;if(!d)return;const f=d.acceptAllBtn,_=d.acceptNecessaryBtn,u=d.showPreferencesBtn,p=d.closeIconLabel,m=d.footer,g=d.label,v=d.title,b=e=>{i(),l(e)};if(!c.Ke){c.Ke=h('div'),c.Ce=h('div'),c.Qe=h('div'),c.We=h('div'),c.Xe=h('div'),T(c.Ke,'cm-wrapper'),T(c.Ce,'cm'),x(c.Qe,'body'),x(c.We,'texts'),x(c.Xe,'btns'),y(c.Ce,'role','dialog'),y(c.Ce,'aria-modal','true'),y(c.Ce,'aria-hidden','false'),y(c.Ce,'aria-describedby','cm__desc'),g?y(c.Ce,'aria-label',g):v&&y(c.Ce,'aria-labelledby','cm__title'),c.Ce.style.visibility='hidden';const t='box',o=n.k.guiOptions?.consentModal,a=(o?.layout||t).split(' ')[0]===t;v&&p&&a&&(c.Pe||(c.Pe=h(e),x(c.Pe,'btn'),x(c.Pe,'btn--close'),k(c.Pe,'click',(()=>{b([])})),S(c.Qe,c.Pe)),y(c.Pe,'aria-label',p)),S(c.Qe,c.We),(f||_||u)&&S(c.Qe,c.Xe),S(c.Ce,c.Qe),S(c.Ke,c.Ce)}v&&(c.Ye||(c.Ye=h('div'),c.Ye.className=c.Ye.id='cm__title',y(c.Ye,'role','heading'),y(c.Ye,'aria-level','2'),S(c.We,c.Ye)),c.Ye.innerHTML=v);let w=d.description;if(w&&(n.q&&(w=w.replace('{{revisionMessage}}',n.K?'':d.revisionMessage||'')),c.Ze||(c.Ze=h('div'),c.Ze.className=c.Ze.id='cm__desc',S(c.We,c.Ze)),c.Ze.innerHTML=w),f&&(c.et||(c.et=h(e),x(c.et,'btn'),y(c.et,'data-role','all'),k(c.et,'click',(()=>{b('all')}))),c.et.innerHTML=f),_&&(c.Ie||(c.Ie=h(e),x(c.Ie,'btn'),y(c.Ie,'data-role','necessary'),k(c.Ie,'click',(()=>{b([])}))),c.Ie.innerHTML=_),u&&(c.tt||(c.tt=h(e),x(c.tt,'btn'),x(c.tt,'btn--secondary'),y(c.tt,'data-role','show'),k(c.tt,'mouseenter',(()=>{n.R||U(t,o)})),k(c.tt,'click',r)),c.tt.innerHTML=u),c.ot||(c.ot=h('div'),x(c.ot,'btn-group'),_&&S(c.ot,c.Ie),f&&S(c.ot,c.et),(f||_)&&S(c.Qe,c.ot),S(c.Xe,c.ot)),c.tt&&!c.nt&&(c.nt=h('div'),c.Ie&&c.et?(x(c.nt,'btn-group'),S(c.nt,c.tt),S(c.Xe,c.nt)):(S(c.ot,c.tt),x(c.ot,'btn-group--uneven'))),m){if(!c.ct){let e=h('div'),t=h('div');c.ct=h('div'),x(e,'footer'),x(t,'links'),x(c.ct,'link-group'),S(t,c.ct),S(e,t),S(c.Ce,e)}c.ct.innerHTML=m}J(0),n.F||(n.F=!0,a(s.o.p,'consentModal',c.Ce),o(t),setTimeout(j,10),S(c.qe,c.Ke),setTimeout((()=>T(c.Ke,'cc--anim')),100)),H(c.Qe,t,U,o)},q=e=>d(e)&&e in s.l.M,K=()=>s.l.T||s.l.k.language.default,Q=e=>{e&&(s.l.T=e)},W=async e=>{const t=s.l;let o;o=e&&q(e)?e:K();let n=t.M[o];if(!n)return!1;if(d(n)){const e=await(async e=>{try{const t=await fetch(e,{method:'GET'});return!!t.ok&&await t.json()}catch(e){return!1}})(n);if(!e)return!1;n=e}return t.A=n,Q(o),!0},X=()=>{let e=s.l.k.language.rtl,t=s.me.qe;e&&t&&(l(e)||(e=[e]),r(e,s.l.T)?T(t,'cc--rtl'):A(t,'cc--rtl'))},Y=e=>{const t=s.me;if(!t.qe){t.qe=h('div'),t.qe.id='cc-main',t.qe.style.position='fixed',t.qe.style.zIndex='2147483647',X();let o=s.l.k.root;o&&d(o)&&(o=document.querySelector(o)),S(o||t.Ue.body,t.qe),(({hidePreferences:e})=>{const t=s.me;k(t.qe,'click',(o=>{const n=s.l;n.U?t.Se.contains(o.target)?n.G=!0:(e(),n.G=!1):n.O&&t.Ce.contains(o.target)&&(n.G=!0)}))})(e)}},Z=e=>{const{hostname:t,protocol:o}=window.location,{name:n,path:a,domain:c,sameSite:i}=s.S.cookie,l=encodeURIComponent(JSON.stringify(s.l.i)),d=e?(()=>{const e=s.l.I,t=e?new Date-e:0;return 864e5*D()-t})():864e5*D(),f=new Date;f.setTime(f.getTime()+d);let _=n+'='+l+(0!==d?'; expires='+f.toUTCString():'')+'; Path='+a+'; SameSite='+i;r(t,'.')&&(_+='; Domain='+c),'https:'===o&&(_+='; Secure'),document.cookie=_,s.l.i},ee=(e,t,o)=>{const n=o||s.S.cookie.domain,a=t||s.S.cookie.path,c='www.'===n.slice(0,4),i=c&&n.substring(4),r=(e,t)=>{document.cookie=e+'=; path='+a+(t?'; domain=.'+t:'')+'; expires=Thu, 01 Jan 1970 00:00:01 GMT;'};for(const t of e)r(t),r(t,n),c&&r(t,i)},te=e=>(e=>{let t;try{t=JSON.parse(decodeURIComponent(e))}catch(e){t={}}return t})(oe(e||s.S.cookie.name,!0)),oe=(e,t)=>{const o=document.cookie.match('(^|;)\\s*'+e+'\\s*=\\s*([^;]+)');return o?t?o.pop():e:''},ne=e=>{const t=document.cookie.split(/;\s*/),o=[];for(const n of t){let t=n.split('=')[0];if(e)try{e.test(t)&&o.push(t)}catch(e){}else o.push(t)}return o},ae=(e,t=[])=>{((e,t)=>{const{Z:o,te:n,i:a,R:c}=s.l;let i=[];e?l(e)?i.push(...e):d(e)&&('all'===e?i=o:i.push(e)):i=c?(()=>{const e=s.l,t=s.me.ge;if(!t)return[];let o=[];for(let e in t)t[e].checked&&o.push(e);for(let t in e.fe)e.fe[t].length>0&&o.push(t);return o})():a.categories,i=i.filter((e=>!r(o,e)||!r(t,e))),i.push(...n),N(i)})(e,t),(()=>{const e=s.l,{X:t,fe:n,te:a,ee:c,de:i,le:l,Z:d}=e;e._e=o(i);for(const o of d){const s=l[o],d=_(s),f=n[o]?.length>0,p=r(a,o);if(0!==d.length){if(i[o]=[],p)i[o].push(...d);else{if('all'===t)if(f){const e=n[o];i[o].push(...e)}else i[o].push(...d);else if('necessary'===t)i[o]=[];else if(f){const e=n[o];i[o].push(...e)}else r(c,o)&&i[o].push(...d);e.fe={}}i[o]=u(i[o])}}})(),(()=>{const e=s.l;'opt-out'===s.S.mode&&e.j?e.v=E(e.oe,e.ee):e.v=E(e.ee,e.i.categories);let t=e.v.length>0,n=!1;for(const t of e.Z)e.h[t]=E(e.de[t],e._e[t]),e.h[t].length>0&&(n=!0);const c=s.me.ge;for(let t in c)c[t].checked=r(e.ee,t);for(const t of e.Z){const o=s.me.ve[t],n=e.de[t];for(const e in o)o[e].checked=r(n,e)}e.V||(e.V=new Date),e.P||(e.P=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))),e.i={categories:o(e.ee),revision:s.S.revision,data:e.H,consentTimestamp:e.V.toISOString(),consentId:e.P,services:o(e.de)};let l=!1;(e.j||t||n)&&(e.j&&(e.j=!1,l=!0),N(e.ee),e.I?e.I=new Date:e.I=e.V,e.i.lastConsentTimestamp=e.I.toISOString(),Z(),s.S.autoClearCookies&&(l||!e.j&&t)&&(e=>{const t=s.l,o=ne();t.W=!1;let n=e?t.Z:t.v;n=n.filter((e=>{let o=t.Y[e];return!!o&&!o.readOnly&&!!o.autoClear}));for(const a of n){const n=t.Y[a].autoClear,c=n?.cookies||[],s=r(t.v,a),l=!r(t.ee,a),d=s&&l;if(e&&l||!e&&d){!0===n.reloadPage&&d&&(t.W=!0);for(const e of c){let t=[];const n=e.name,a=e.domain,c=e.path;if(n instanceof RegExp)for(let e of o)n.test(e)&&t.push(e);else{let e=i(o,n);e>-1&&t.push(o[e])}t.length>0&&ee(t,c,a)}}}})(l),F()),l&&(a(s.o.m),a(s.o.g),'opt-in'===s.S.mode)||((t||n)&&a(s.o.C),e.W&&window.location.reload())})()},ce=e=>{let t;return t=s.l.j&&'opt-in'!==s.S.mode?s.l.oe:V().accepted||[],r(t,e)},se=(e,t)=>{const o=s.l;if(!(e&&t&&d(t)&&r(o.Z,t)))return!1;((e,t)=>{const o=s.l,{le:n,fe:a}=o,c=s.me.ve[t]||{},i=_(n[t]);if(a[t]=[],d(e))if('all'===e)for(let e in c)c[e].checked=!0,b(c[e]);else{for(let t in c)c[t].checked=e===t,b(c[t]);r(i,e)&&a[t].push(e)}else if(l(e)){for(let t in c)c[t].checked=r(e,t),b(c[t]);for(let o in i)r(e,o)&&a[t].push(o)}})(e,t),ae()},ie=(e,t)=>r(s.l.de[t]||[],e),re=e=>''!==oe(e,!0),le=(e,t,o)=>{let n=[];const a=e=>{if(d(e)){let t=oe(e);''!==t&&n.push(t)}else n.push(...ne(e))};if(l(e))for(let t of e)a(t);else a(e);ee(n,t,o)},de=e=>{const{me:t,l:o}=s;e&&!o.F&&$(pe,Y),o.F&&(o.O=!0,o.N&&P(!0),T(t.we,'show--consent'),y(t.Ce,'aria-hidden','false'),setTimeout((()=>{o.ae=p(),o.$=o.se}),200),a(s.o._,'consentModal'))},fe=()=>{const{me:e,l:t,o:o}=s;t.F&&(t.O=!1,t.N&&P(),A(e.we,'show--consent'),y(e.Ce,'aria-hidden','true'),setTimeout((()=>{t.ae.focus(),t.$=[]}),200),a(o.u,'consentModal'))},_e=()=>{const e=s.l;e.R&&e.B||(e.R||U(pe,Y),T(s.me.we,'show--preferences'),y(s.me.Se,'aria-hidden','false'),e.B=!0,setTimeout((()=>{e.U=!0}),1),setTimeout((()=>{e.O?e.ce=p():e.ae=p(),0!==e.ie.length&&(e.ie[0].focus(),e.$=e.ie)}),200),a(s.o._,'preferencesModal'))},ue=()=>{const e=s.l;e.B&&(A(s.me.we,'show--preferences'),y(s.me.Se,'aria-hidden','true'),e.B=!1,setTimeout((()=>{e.U=!1}),1),e.O?(e.ce&&e.ce.focus(),e.$=e.se):(e.ae&&e.ae.focus(),e.$=[]),e.G=!1,a(s.o.u,'preferencesModal'))};var pe={show:de,hide:fe,showPreferences:_e,hidePreferences:ue,acceptCategory:ae};const me=async(e,t)=>{if(!q(e))return!1;const o=s.l;return!(e===K()&&!0!==t||!await W(e)||(Q(e),o.F&&$(pe,Y),o.R&&U(pe,Y),X(),j(),0))},ge=()=>{const{X:e,de:t}=s.l,{accepted:o,rejected:n}=V();return{acceptType:e,acceptedCategories:o,rejectedCategories:n,acceptedServices:t,rejectedServices:v()}},ve=(e,t)=>{let o=document.querySelector('script[src="'+e+'"]');return new Promise((n=>{if(o)return n(!0);o=h('script'),l(t)&&t.forEach((e=>{y(o,e.name,e.value)})),o.onload=()=>n(!0),o.onerror=()=>{o.remove(),n(!1)},o.src=e,S(document.head,o)}))},be=e=>{let t,o=e.value,n=e.mode,a=!1;const c=s.l;if('update'===n){c.H=t=he('data');const e=typeof t==typeof o;if(e&&'object'==typeof t){!t&&(t={});for(let e in o)t[e]!==o[e]&&(t[e]=o[e],a=!0)}else!e&&t||t===o||(t=o,a=!0)}else t=o,a=!0;return a&&(c.H=t,c.i.data=t,Z(!0)),a},he=(e,t)=>{const o=te(t);return e?o[e]:o},ye=e=>{const t=s.S,o=s.l.k;return e?t[e]||o[e]:{...t,...o,cookie:{...t.cookie}}},we=()=>!s.l.j,Ce=async e=>{const{l:t,S:o,o:n}=s,c=window;if(!c._ccRun){if(c._ccRun=!0,(e=>{const{me:t,S:o,l:n}=s,a=o,c=n,{cookie:i}=a,l=s.t,d=e.cookie,u=e.categories,p=_(u)||[],m=navigator,v=document;t.Ue=v,t.we=v.documentElement,i.domain=location.hostname,c.k=e,c.M=e.language.translations,c.Y=u,c.Z=p,c.N=!!e.disablePageInteraction,l.m=e.onFirstConsent,l.g=e.onConsent,l.C=e.onChange,l.u=e.onModalHide,l._=e.onModalShow,l.p=e.onModalReady;const{mode:b,autoShow:h,autoClearCookies:y,revision:w,manageScriptTags:S,hideFromBots:k,lazyHtmlGeneration:T}=e;'opt-out'===b&&(a.mode=b),'boolean'==typeof h&&(a.autoShow=h),'boolean'==typeof y&&(a.autoClearCookies=y),'boolean'==typeof S&&(a.manageScriptTags=S),'number'==typeof w&&w>=0&&(a.revision=w,c.q=!0),'boolean'==typeof T&&(a.lazyHtmlGeneration=T),!1===k&&(a.hideFromBots=!1),!0===a.hideFromBots&&m&&(c.ne=m.userAgent&&/bot|crawl|spider|slurp|teoma/i.test(m.userAgent)||m.webdriver),f(d)&&(a.cookie={...i,...d}),a.autoClearCookies,c.q,a.manageScriptTags,(e=>{const t=s.l;for(let o of e){const e=t.Y[o],n=e.services||{},a=f(n)&&_(n)||[];t.le[o]={},t.de[o]=[],e.readOnly&&(t.te.push(o),t.de[o]=_(n)),s.me.ve[o]={};for(let e of a){const a=n[e];a.ke=!1,t.le[o][e]=a}}})(p),(()=>{if(!s.S.manageScriptTags)return;const e=s.l;e.ue=g(s.me.Ue,'script[data-category]'),e.pe=[];for(const t of e.ue){let o=C(t,'data-category'),n=t.dataset.service||'',a=!1;if(o&&'!'===o.charAt(0)&&(o=o.slice(1),a=!0),'!'===n.charAt(0)&&(n=n.slice(1),a=!0),r(e.Z,o)&&(e.pe.push({Me:!1,Ae:a,Te:o,xe:n}),n)){const t=e.le[o];t[n]||(t[n]={ke:!1})}}})(),Q((()=>{const e=s.l.k.language.autoDetect;if(e){let t;if('browser'===e?t=navigator.language.slice(0,2).toLowerCase():'document'===e&&(t=document.documentElement.lang),q(t))return t}return K()})())})(e),t.ne)return;(()=>{const e=s.l,t=s.S,o=te(),{categories:n,services:a,consentId:c,consentTimestamp:i,lastConsentTimestamp:r,data:f,revision:_}=o,u=l(n);e.i=o,e.P=c;const p=!!c&&d(c);e.V=i,e.V&&(e.V=new Date(i)),e.I=r,e.I&&(e.I=new Date(r)),e.H=void 0!==f?f:null,e.q&&p&&_!==t.revision&&(e.K=!1),e.j=!(p&&e.K&&e.V&&e.I&&u),e.j,e.j?'opt-out'===t.mode&&(()=>{const e=s.l;for(const t of e.Z)if(e.Y[t].enabled){e.oe.push(t);const o=e.le[t]||{};for(let n in o)e.de[t].push(n)}})():(e.de={...e.de,...a},N([...e.te,...n]))})();const i=we();if(!await W())return!1;if(await(async e=>{H(null,e,U,Y),s.l.j&&$(e,Y),s.S.lazyHtmlGeneration||U(e,Y),(()=>{const e=s.me,t=s.l;k(e.we,'keydown',(e=>{if('Tab'!==e.key)return;const o=t.$;if(o.length>0){const n=p();e.shiftKey?n===o[0]&&(o[1].focus(),m(e)):n===o[1]&&(o[0].focus(),m(e)),t.J||s.l.G||(t.J=!0,!t.L&&m(e),e.shiftKey?o[1].focus():o[0].focus())}!t.J&&(t.L=!0)}),!0)})()})(pe),o.autoShow&&!i&&de(!0),i)return F(),a(n.g);'opt-out'===o.mode&&F(t.oe)}},Se=e=>{const t=s.me,{name:o,path:n,domain:a}=s.S.cookie;e&&le(o,n,a);for(const e of s.l.D)e.be.removeEventListener(e.he,e.ye);t.qe&&t.qe.remove(),t.we&&(A(t.we,'disable--interaction'),A(t.we,'show--preferences'),A(t.we,'show--consent'));const i=new c;s.l=i.l,s.me=i.me,s.S=i.S,s.t=i.t,s.o=i.o,window._ccRun=!1};export{ae as acceptCategory,se as acceptService,ce as acceptedCategory,ie as acceptedService,le as eraseCookies,ye as getConfig,he as getCookie,ge as getUserPreferences,fe as hide,ue as hidePreferences,ve as loadScript,Se as reset,Ce as run,be as setCookieData,me as setLanguage,de as show,_e as showPreferences,we as validConsent,re as validCookie};
